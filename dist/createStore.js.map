{"version":3,"sources":["../src/createStore.js"],"names":[],"mappings":";;;;;QAmBgB;QAGA;;;;;;;;;;AAnBhB,IAAM,QAAQ;AACZ,SAAO,IAAP;AACA,gCAAW;AACT,WAAO,KAAK,KAAL,CADE;GAFC;AAKZ,oCAAY,OAAO;AACjB,SAAK,KAAL,GAAa,KAAb,CADiB;AAEjB,SAAK,KAAL,CAAW,CAAX,GAAe,IAAI,aAAJ,CAAkB,CAAlB,CAAf,CAFiB;AAGjB,QAAM,mBAAmB,KAAK,KAAL,CAAW,KAAX,CAAiB,QAAjB,CAHR;AAIjB,UAAM,KAAN,CAAY,QAAZ,GAAuB,YAAW;AAChC,yBADgC;AAEhC,WAAK,KAAL,CAAW,CAAX,CAAa,IAAb,CAAkB,CAAlB,EAFgC;KAAX,CAJN;GALP;CAAR;;AAgBC,SAAS,WAAT,CAAqB,KAArB,EAA4B;AACjC,QAAM,WAAN,CAAkB,KAAlB,EADiC;CAA5B;AAGA,SAAS,QAAT,GAAoB;AACzB,SAAO,MAAM,QAAN,EAAP,CADyB;CAApB","file":"createStore.js","sourcesContent":["import { ReplaySubject } from 'rxjs/subject/ReplaySubject';\nimport falcor from 'falcor'\n\nconst store = {\n  model: null,\n  getModel() {\n    return this.model\n  },\n  createStore(model) {\n    this.model = model\n    this.model.$ = new RaplaySubject(1)\n    const previousOnChange = this.model._root.onChange\n    model._root.onChange = function() {\n      previousOnChange()\n      this.model.$.next(1)\n    }\n  }\n}\n\nexport function createStore(model) {\n  store.createStore(model)\n}\nexport function getModel() {\n  return store.getModel()\n}\n"]}